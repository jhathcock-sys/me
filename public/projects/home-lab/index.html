<!DOCTYPE html>
<html lang="en" dir="auto" data-theme="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Home Lab | James Hathcock</title>
<meta name="keywords" content="">
<meta name="description" content="üè† My Homelab Setup
Welcome to my homelab documentation. This project tracks the infrastructure, services, and networking configuration of my self-hosted environment. The goal is to create a resilient, automated, and organized system for home services, monitoring, and development.

üìö Documentation Wiki
View Full Homelab Documentation ‚Üí
Complete technical documentation is available on my public wiki, including:

Detailed service configurations and architecture diagrams
Step-by-step setup guides and troubleshooting
GitOps workflow and deployment procedures
Security best practices and monitoring setup
Project changelogs and infrastructure evolution

The wiki is built with Quartz v4 and features full-text search, graph view, and WikiLinks for easy navigation.">
<meta name="author" content="James Hathcock">
<link rel="canonical" href="https://jhathcock-sys.github.io/me/projects/home-lab/">
<link crossorigin="anonymous" href="/me/assets/css/stylesheet.343cc480b9ffc8f04ccbe5e968ad674880cab773ec19905e93033065c1e7a804.css" integrity="sha256-NDzEgLn/yPBMy&#43;XpaK1nSIDKt3PsGZBekwMwZcHnqAQ=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://jhathcock-sys.github.io/me/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://jhathcock-sys.github.io/me/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://jhathcock-sys.github.io/me/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://jhathcock-sys.github.io/me/apple-touch-icon.png">
<link rel="mask-icon" href="https://jhathcock-sys.github.io/me/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://jhathcock-sys.github.io/me/projects/home-lab/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
                color-scheme: dark;
            }

            .list {
                background: var(--theme);
            }

            .toc {
                background: var(--entry);
            }
        }

        @media (prefers-color-scheme: light) {
            .list::-webkit-scrollbar-thumb {
                border-color: var(--code-bg);
            }
        }

    </style>
</noscript>
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.querySelector("html").dataset.theme = 'dark';
    } else if (localStorage.getItem("pref-theme") === "light") {
       document.querySelector("html").dataset.theme = 'light';
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.querySelector("html").dataset.theme = 'dark';
    } else {
        document.querySelector("html").dataset.theme = 'light';
    }

</script><meta property="og:url" content="https://jhathcock-sys.github.io/me/projects/home-lab/">
  <meta property="og:site_name" content="James Hathcock">
  <meta property="og:title" content="Home Lab">
  <meta property="og:description" content="üè† My Homelab Setup Welcome to my homelab documentation. This project tracks the infrastructure, services, and networking configuration of my self-hosted environment. The goal is to create a resilient, automated, and organized system for home services, monitoring, and development.
üìö Documentation Wiki View Full Homelab Documentation ‚Üí
Complete technical documentation is available on my public wiki, including:
Detailed service configurations and architecture diagrams Step-by-step setup guides and troubleshooting GitOps workflow and deployment procedures Security best practices and monitoring setup Project changelogs and infrastructure evolution The wiki is built with Quartz v4 and features full-text search, graph view, and WikiLinks for easy navigation.">
  <meta property="og:locale" content="en-us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="projects">
    <meta property="article:published_time" content="2026-01-08T00:00:00+00:00">
    <meta property="article:modified_time" content="2026-01-08T00:00:00+00:00">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Home Lab">
<meta name="twitter:description" content="üè† My Homelab Setup
Welcome to my homelab documentation. This project tracks the infrastructure, services, and networking configuration of my self-hosted environment. The goal is to create a resilient, automated, and organized system for home services, monitoring, and development.

üìö Documentation Wiki
View Full Homelab Documentation ‚Üí
Complete technical documentation is available on my public wiki, including:

Detailed service configurations and architecture diagrams
Step-by-step setup guides and troubleshooting
GitOps workflow and deployment procedures
Security best practices and monitoring setup
Project changelogs and infrastructure evolution

The wiki is built with Quartz v4 and features full-text search, graph view, and WikiLinks for easy navigation.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Projects",
      "item": "https://jhathcock-sys.github.io/me/projects/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Home Lab",
      "item": "https://jhathcock-sys.github.io/me/projects/home-lab/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Home Lab",
  "name": "Home Lab",
  "description": "üè† My Homelab Setup Welcome to my homelab documentation. This project tracks the infrastructure, services, and networking configuration of my self-hosted environment. The goal is to create a resilient, automated, and organized system for home services, monitoring, and development.\nüìö Documentation Wiki View Full Homelab Documentation ‚Üí\nComplete technical documentation is available on my public wiki, including:\nDetailed service configurations and architecture diagrams Step-by-step setup guides and troubleshooting GitOps workflow and deployment procedures Security best practices and monitoring setup Project changelogs and infrastructure evolution The wiki is built with Quartz v4 and features full-text search, graph view, and WikiLinks for easy navigation.\n",
  "keywords": [
    
  ],
  "articleBody": "üè† My Homelab Setup Welcome to my homelab documentation. This project tracks the infrastructure, services, and networking configuration of my self-hosted environment. The goal is to create a resilient, automated, and organized system for home services, monitoring, and development.\nüìö Documentation Wiki View Full Homelab Documentation ‚Üí\nComplete technical documentation is available on my public wiki, including:\nDetailed service configurations and architecture diagrams Step-by-step setup guides and troubleshooting GitOps workflow and deployment procedures Security best practices and monitoring setup Project changelogs and infrastructure evolution The wiki is built with Quartz v4 and features full-text search, graph view, and WikiLinks for easy navigation.\nüõ† Hardware Infrastructure Device Role OS / Hypervisor Specs/Notes Dell R430 Primary Server Proxmox VE The heavy lifter. Runs LXC containers and manages core network services. Raspberry Pi 5 Secondary Node Debian (Docker) Low-power node for DNS redundancy and lightweight services. Synology NAS Network Storage DSM Centralized file storage and backups. ‚òÅÔ∏è Virtualization \u0026 Software Stack üñ•Ô∏è Node 1: Dell R430 (ProxMoxBox - 192.168.1.4) The Proxmox host runs LXC Containers to separate concerns:\nNginx Proxy Manager üõ°Ô∏è\nReverse proxy with SSL termination Routes all *.home.lab traffic Pi-hole (Primary) üõë\nNetwork-wide ad blocking and local DNS (ns1.home.lab) Docker Host üê≥\nCore application stack managed by Dockhand Services Running: Homepage: Primary dashboard for the lab Homebox: Asset inventory and tracking Uptime Kuma: Service health monitoring Minecraft Server: PaperMC with Geyser/Floodgate (Java + Bedrock) Syncthing: File synchronization across devices Monitoring \u0026 Alerting Stack üìä\nGrafana: Dashboards and visualization (custom Homelab Overview + Docker Containers dashboards) Prometheus: Metrics collection from 7 targets (ProxMoxBox, Pi5, Pi-hole LXC, NPM LXC, Wazuh VM, cAdvisor) Alertmanager: Alert routing with Discord notifications Loki: Centralized log aggregation Promtail: Log collector agent Node Exporter: Installed on all hosts for system metrics cAdvisor: Container metrics Alerts Configured: Disk space \u003e80%/90%, High CPU/Memory \u003e90%, Host down, Container down, Target scrape failures\nüçì Node 2: Raspberry Pi 5 (192.168.1.234) High-availability node for DNS redundancy and isolated services, managed remotely via Hawser agent.\nPi-hole (Secondary): Redundant DNS (ns2) for uptime during R430 reboots Tailscale: Secure zero-config VPN access Mealie: Recipe and meal planning manager Nebula-Sync: Syncs DNS records and blocklists between Pi-hole instances Node Exporter: System metrics fed to Prometheus Promtail: Log collector sending to Loki üåê Networking \u0026 DNS IP Device Role 192.168.1.3 Primary Pi-hole Main DNS (ns1.home.lab) 192.168.1.4 ProxMoxBox Main Docker host 192.168.1.5 Synology NAS (DS220j) Network storage (7.2TB, SNMP monitored) 192.168.1.6 Nginx Proxy Manager Reverse proxy 192.168.1.7 Wazuh VM SIEM (security monitoring) 192.168.1.234 Pi5 Secondary DNS, Tailscale 192.168.1.253 Proxmox Hypervisor management DNS Flow Client requests dashboard.home.lab Pi-hole resolves domain to the NPM IP address NPM routes the request to the correct Docker container port üîê Security \u0026 SIEM Wazuh SIEM (192.168.1.7) Dedicated VM (Debian 12) running Wazuh v4.14.2 for centralized security monitoring across all homelab hosts.\nComponents:\nWazuh Manager: Core SIEM engine - processes security events, file integrity monitoring, vulnerability detection Wazuh Indexer: OpenSearch-based backend for storing and searching security data Wazuh Dashboard: Web UI for security analysis, threat hunting, and compliance reporting (https://192.168.1.7) Filebeat: Ships alerts from manager to indexer Agents Deployed:\nHost Agent Name Monitors ProxMoxBox (192.168.1.4) SRV-DOCKER01 Docker host, containers, system logs Pi5 (192.168.1.234) pi-infra Secondary DNS, Tailscale, system logs Pi-hole LXC (192.168.1.3) SRV-DNS01 Primary DNS server, Pi-hole logs NPM LXC (192.168.1.6) SRV-NPM01 Reverse proxy, SSL certificates, access logs Capabilities:\nReal-time log analysis and correlation File integrity monitoring (FIM) Vulnerability detection Security Configuration Assessment (SCA) Rootkit detection Ready for Suricata IDS integration (planned with OPNsense) üìä Dashboard \u0026 Management Docker Management: Dockhand - UI for managing all stacks locally and remotely via Hawser Application Dashboard: Homepage - Central hub for all services Monitoring: Grafana - Custom dashboards for homelab overview and container metrics Alerting: Alertmanager - Alert routing with Discord notifications Log Aggregation: Loki - Centralized logs from all hosts Health Checks: Uptime Kuma - Service availability monitoring Inventory: Homebox - Physical IT gear tracking SIEM: Wazuh Dashboard - Security event analysis and threat detection üöÄ Infrastructure as Code All Docker compose files are managed via GitOps. See my GitOps Project for details on the repository structure and deployment workflow.\nRepository: github.com/jhathcock-sys/Dockers\nüõ°Ô∏è Security Hardening The Docker infrastructure has undergone a comprehensive security audit. Critical vulnerabilities were identified and fixed, including:\nRemoved privileged mode from cAdvisor (replaced with specific capabilities) Added read-only flags to Docker socket mounts Eliminated default password fallbacks See my Docker Security Review for the full audit report, methodology, and lessons learned.\nüöÄ Recent Projects Podcast Studio (2026-02-03) Self-hosted video podcast recording platform with 4K multi-track support. Built for D\u0026D sessions with up to 6 participants.\nStack: LiveKit (WebRTC), React + TypeScript, Node.js/Express, MinIO (S3 storage), FFmpeg (post-processing), Coturn (TURN server)\nFeatures:\nHybrid LiveKit + double-ended recording for true 4K quality Client-side MediaRecorder with resumable uploads (Uppy.js) Live streaming to YouTube/Twitch via RTMP Automated audio normalization and multi-track sync with FFmpeg Scene switching with custom layouts Storage: ~70GB per 1-hour 6-person 4K session\nRepository: podcast-studio\nüóÑÔ∏è NAS Integration (2026-02-04) Integrated Synology DS220j (7.2TB) with homelab infrastructure for centralized storage and monitoring.\nSNMP Monitoring:\nPrometheus scrapes NAS metrics via snmp-exporter Monitors: network interfaces, traffic counters, interface status Grafana dashboards available for visualization SMB Storage Shares:\nMounted on ProxMoxBox (via Proxmox host bind mount) Mounted on Pi5 with full read/write access Directories: /mnt/nas/homelab/docker-backups/ and /mnt/nas/homelab/media/ Docker containers have full read/write access for backups and media Persistent mounts configured in /etc/fstab on both systems Syslog Forwarding (Partial):\nSynology forwards logs to Promtail on ProxMoxBox:1514 Messages arriving but needs RFC 3164 ‚Üí RFC 5424 format conversion Future enhancement: add syslog relay for proper parsing Storage Capacity:\nTotal: 7.2TB Used: 4.9TB Available: 2.4TB (ready for media library and backups) üìù Obsidian Vault Sync (2026-02-04) Self-hosted real-time synchronization for homelab documentation vault using CouchDB.\nDeployment: Pi5 (192.168.1.234:5984)\nTechnology Stack:\nCouchDB: NoSQL database for document storage Self-hosted LiveSync: Obsidian community plugin for real-time sync End-to-End Encryption: Optional passphrase-based encryption Docker: Containerized deployment with health checks Features:\nReal-time vault synchronization across all devices (desktop, mobile, laptop) Sub-second sync latency on local network Automatic conflict detection and resolution Works alongside Git for hybrid workflow (sync + version control) Remote access via Tailscale VPN Architecture Decision:\nDeployed to Pi5 instead of ProxMoxBox due to better resource availability Pi5 had 6.9GB free memory vs ProxMoxBox‚Äôs 3.7GB CPU nearly idle (1.24% vs 60%+ on ProxMoxBox) Fits Pi5‚Äôs role as always-on secondary services node Resource Usage:\nCouchDB container: ~500MB-1GB RAM, \u003c2% CPU Memory limit: 1GB max, 512MB reserved Database size: ~100-500MB for text-heavy vault Integration:\nComplements existing Git workflow (homelab-docs repository) LiveSync handles real-time editing, Git handles version control Public wiki publishing pipeline unchanged (homelab-wiki) Monitoring:\nSystem metrics via Node Exporter (CPU, memory, disk) Docker health checks every 30 seconds Basic monitoring sufficient; detailed CouchDB metrics optional Security:\nPrivate network deployment (192.168.1.0/24) Strong generated credentials Optional E2E encryption in Obsidian plugin Tailscale VPN for secure remote access üìã Future Plans Podcast Studio Deployment - Deploy and test on 192.168.1.8 OPNsense + Managed Switch - Enterprise networking with VLANs and IDS/IPS Add media stack (Jellyfin/Plex, Sonarr, Radarr) - NAS storage ready Implement Home Assistant for home automation Migrate to Kubernetes for orchestration Set up offsite backups to cloud storage Fix syslog format conversion for NAS logs NAS integration (Completed - SNMP monitoring + SMB shares) Container resource management (Completed - memory limits on all 20 containers) Add alerting via Grafana/Prometheus (Completed - Discord notifications active) Wazuh SIEM (Completed - agents on ProxMoxBox and Pi5, ready for Suricata integration) Obsidian vault sync (Completed - CouchDB LiveSync on Pi5, real-time sync across devices) ",
  "wordCount" : "1253",
  "inLanguage": "en",
  "datePublished": "2026-01-08T00:00:00Z",
  "dateModified": "2026-01-08T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "James Hathcock"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://jhathcock-sys.github.io/me/projects/home-lab/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "James Hathcock",
    "logo": {
      "@type": "ImageObject",
      "url": "https://jhathcock-sys.github.io/me/favicon.ico"
    }
  }
}
</script>
</head>
<body id="top">
    <header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://jhathcock-sys.github.io/me/" accesskey="h" title="James Hathcock (Alt + H)">James Hathcock</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://jhathcock-sys.github.io/me/resume/" title="Resume">
                    <span>Resume</span>
                </a>
            </li>
            <li>
                <a href="https://jhathcock-sys.github.io/me/projects/" title="Projects">
                    <span>Projects</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://jhathcock-sys.github.io/me/">Home</a>&nbsp;¬ª&nbsp;<a href="https://jhathcock-sys.github.io/me/projects/">Projects</a></div>
    <h1 class="post-title entry-hint-parent">
      Home Lab
    </h1>
    <div class="post-meta"><span title='2026-01-08 00:00:00 +0000 UTC'>January 8, 2026</span>&nbsp;¬∑&nbsp;<span>6 min</span>&nbsp;¬∑&nbsp;<span>James Hathcock</span>

</div>
  </header> 
  <div class="post-content"><h1 id="-my-homelab-setup">üè† My Homelab Setup<a hidden class="anchor" aria-hidden="true" href="#-my-homelab-setup">#</a></h1>
<p>Welcome to my homelab documentation. This project tracks the infrastructure, services, and networking configuration of my self-hosted environment. The goal is to create a resilient, automated, and organized system for home services, monitoring, and development.</p>
<hr>
<h2 id="-documentation-wiki">üìö Documentation Wiki<a hidden class="anchor" aria-hidden="true" href="#-documentation-wiki">#</a></h2>
<p><strong><a href="https://jhathcock-sys.github.io/homelab-wiki/">View Full Homelab Documentation ‚Üí</a></strong></p>
<p>Complete technical documentation is available on my public wiki, including:</p>
<ul>
<li>Detailed service configurations and architecture diagrams</li>
<li>Step-by-step setup guides and troubleshooting</li>
<li>GitOps workflow and deployment procedures</li>
<li>Security best practices and monitoring setup</li>
<li>Project changelogs and infrastructure evolution</li>
</ul>
<p>The wiki is built with Quartz v4 and features full-text search, graph view, and WikiLinks for easy navigation.</p>
<hr>
<h2 id="-hardware-infrastructure">üõ† Hardware Infrastructure<a hidden class="anchor" aria-hidden="true" href="#-hardware-infrastructure">#</a></h2>
<table>
  <thead>
      <tr>
          <th style="text-align: left">Device</th>
          <th style="text-align: left">Role</th>
          <th style="text-align: left">OS / Hypervisor</th>
          <th style="text-align: left">Specs/Notes</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left"><strong>Dell R430</strong></td>
          <td style="text-align: left">Primary Server</td>
          <td style="text-align: left"><strong>Proxmox VE</strong></td>
          <td style="text-align: left">The heavy lifter. Runs LXC containers and manages core network services.</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>Raspberry Pi 5</strong></td>
          <td style="text-align: left">Secondary Node</td>
          <td style="text-align: left"><strong>Debian (Docker)</strong></td>
          <td style="text-align: left">Low-power node for DNS redundancy and lightweight services.</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>Synology NAS</strong></td>
          <td style="text-align: left">Network Storage</td>
          <td style="text-align: left"><strong>DSM</strong></td>
          <td style="text-align: left">Centralized file storage and backups.</td>
      </tr>
  </tbody>
</table>
<hr>
<h2 id="-virtualization--software-stack">‚òÅÔ∏è Virtualization &amp; Software Stack<a hidden class="anchor" aria-hidden="true" href="#-virtualization--software-stack">#</a></h2>
<h3 id="-node-1-dell-r430-proxmoxbox---19216814">üñ•Ô∏è Node 1: Dell R430 (ProxMoxBox - 192.168.1.4)<a hidden class="anchor" aria-hidden="true" href="#-node-1-dell-r430-proxmoxbox---19216814">#</a></h3>
<p>The Proxmox host runs <strong>LXC Containers</strong> to separate concerns:</p>
<ol>
<li>
<p><strong>Nginx Proxy Manager</strong> üõ°Ô∏è</p>
<ul>
<li>Reverse proxy with SSL termination</li>
<li>Routes all <code>*.home.lab</code> traffic</li>
</ul>
</li>
<li>
<p><strong>Pi-hole (Primary)</strong> üõë</p>
<ul>
<li>Network-wide ad blocking and local DNS (ns1.home.lab)</li>
</ul>
</li>
<li>
<p><strong>Docker Host</strong> üê≥</p>
<ul>
<li>Core application stack managed by <strong>Dockhand</strong></li>
<li><strong>Services Running:</strong>
<ul>
<li><strong>Homepage:</strong> Primary dashboard for the lab</li>
<li><strong>Homebox:</strong> Asset inventory and tracking</li>
<li><strong>Uptime Kuma:</strong> Service health monitoring</li>
<li><strong>Minecraft Server:</strong> PaperMC with Geyser/Floodgate (Java + Bedrock)</li>
<li><strong>Syncthing:</strong> File synchronization across devices</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Monitoring &amp; Alerting Stack</strong> üìä</p>
<ul>
<li><strong>Grafana:</strong> Dashboards and visualization (custom Homelab Overview + Docker Containers dashboards)</li>
<li><strong>Prometheus:</strong> Metrics collection from 7 targets (ProxMoxBox, Pi5, Pi-hole LXC, NPM LXC, Wazuh VM, cAdvisor)</li>
<li><strong>Alertmanager:</strong> Alert routing with Discord notifications</li>
<li><strong>Loki:</strong> Centralized log aggregation</li>
<li><strong>Promtail:</strong> Log collector agent</li>
<li><strong>Node Exporter:</strong> Installed on all hosts for system metrics</li>
<li><strong>cAdvisor:</strong> Container metrics</li>
</ul>
<p><strong>Alerts Configured:</strong> Disk space &gt;80%/90%, High CPU/Memory &gt;90%, Host down, Container down, Target scrape failures</p>
</li>
</ol>
<h3 id="-node-2-raspberry-pi-5-1921681234">üçì Node 2: Raspberry Pi 5 (192.168.1.234)<a hidden class="anchor" aria-hidden="true" href="#-node-2-raspberry-pi-5-1921681234">#</a></h3>
<p>High-availability node for DNS redundancy and isolated services, managed remotely via <strong>Hawser</strong> agent.</p>
<ul>
<li><strong>Pi-hole (Secondary):</strong> Redundant DNS (ns2) for uptime during R430 reboots</li>
<li><strong>Tailscale:</strong> Secure zero-config VPN access</li>
<li><strong>Mealie:</strong> Recipe and meal planning manager</li>
<li><strong>Nebula-Sync:</strong> Syncs DNS records and blocklists between Pi-hole instances</li>
<li><strong>Node Exporter:</strong> System metrics fed to Prometheus</li>
<li><strong>Promtail:</strong> Log collector sending to Loki</li>
</ul>
<hr>
<h2 id="-networking--dns">üåê Networking &amp; DNS<a hidden class="anchor" aria-hidden="true" href="#-networking--dns">#</a></h2>
<table>
  <thead>
      <tr>
          <th>IP</th>
          <th>Device</th>
          <th>Role</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>192.168.1.3</td>
          <td>Primary Pi-hole</td>
          <td>Main DNS (ns1.home.lab)</td>
      </tr>
      <tr>
          <td>192.168.1.4</td>
          <td>ProxMoxBox</td>
          <td>Main Docker host</td>
      </tr>
      <tr>
          <td>192.168.1.5</td>
          <td>Synology NAS (DS220j)</td>
          <td>Network storage (7.2TB, SNMP monitored)</td>
      </tr>
      <tr>
          <td>192.168.1.6</td>
          <td>Nginx Proxy Manager</td>
          <td>Reverse proxy</td>
      </tr>
      <tr>
          <td>192.168.1.7</td>
          <td>Wazuh VM</td>
          <td>SIEM (security monitoring)</td>
      </tr>
      <tr>
          <td>192.168.1.234</td>
          <td>Pi5</td>
          <td>Secondary DNS, Tailscale</td>
      </tr>
      <tr>
          <td>192.168.1.253</td>
          <td>Proxmox</td>
          <td>Hypervisor management</td>
      </tr>
  </tbody>
</table>
<h3 id="dns-flow">DNS Flow<a hidden class="anchor" aria-hidden="true" href="#dns-flow">#</a></h3>
<ol>
<li>Client requests <code>dashboard.home.lab</code></li>
<li><strong>Pi-hole</strong> resolves domain to the <strong>NPM</strong> IP address</li>
<li><strong>NPM</strong> routes the request to the correct <strong>Docker container</strong> port</li>
</ol>
<hr>
<h2 id="-security--siem">üîê Security &amp; SIEM<a hidden class="anchor" aria-hidden="true" href="#-security--siem">#</a></h2>
<h3 id="wazuh-siem-19216817">Wazuh SIEM (192.168.1.7)<a hidden class="anchor" aria-hidden="true" href="#wazuh-siem-19216817">#</a></h3>
<p>Dedicated VM (Debian 12) running Wazuh v4.14.2 for centralized security monitoring across all homelab hosts.</p>
<p><strong>Components:</strong></p>
<ul>
<li><strong>Wazuh Manager:</strong> Core SIEM engine - processes security events, file integrity monitoring, vulnerability detection</li>
<li><strong>Wazuh Indexer:</strong> OpenSearch-based backend for storing and searching security data</li>
<li><strong>Wazuh Dashboard:</strong> Web UI for security analysis, threat hunting, and compliance reporting (https://192.168.1.7)</li>
<li><strong>Filebeat:</strong> Ships alerts from manager to indexer</li>
</ul>
<p><strong>Agents Deployed:</strong></p>
<table>
  <thead>
      <tr>
          <th>Host</th>
          <th>Agent Name</th>
          <th>Monitors</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>ProxMoxBox (192.168.1.4)</td>
          <td>SRV-DOCKER01</td>
          <td>Docker host, containers, system logs</td>
      </tr>
      <tr>
          <td>Pi5 (192.168.1.234)</td>
          <td>pi-infra</td>
          <td>Secondary DNS, Tailscale, system logs</td>
      </tr>
      <tr>
          <td>Pi-hole LXC (192.168.1.3)</td>
          <td>SRV-DNS01</td>
          <td>Primary DNS server, Pi-hole logs</td>
      </tr>
      <tr>
          <td>NPM LXC (192.168.1.6)</td>
          <td>SRV-NPM01</td>
          <td>Reverse proxy, SSL certificates, access logs</td>
      </tr>
  </tbody>
</table>
<p><strong>Capabilities:</strong></p>
<ul>
<li>Real-time log analysis and correlation</li>
<li>File integrity monitoring (FIM)</li>
<li>Vulnerability detection</li>
<li>Security Configuration Assessment (SCA)</li>
<li>Rootkit detection</li>
<li>Ready for Suricata IDS integration (planned with OPNsense)</li>
</ul>
<hr>
<h2 id="-dashboard--management">üìä Dashboard &amp; Management<a hidden class="anchor" aria-hidden="true" href="#-dashboard--management">#</a></h2>
<ul>
<li><strong>Docker Management:</strong> <a href="http://192.168.1.4:3000">Dockhand</a> - UI for managing all stacks locally and remotely via Hawser</li>
<li><strong>Application Dashboard:</strong> <a href="http://192.168.1.4:4000">Homepage</a> - Central hub for all services</li>
<li><strong>Monitoring:</strong> <a href="http://192.168.1.4:3030">Grafana</a> - Custom dashboards for homelab overview and container metrics</li>
<li><strong>Alerting:</strong> <a href="http://192.168.1.4:9093">Alertmanager</a> - Alert routing with Discord notifications</li>
<li><strong>Log Aggregation:</strong> <a href="http://192.168.1.4:3101">Loki</a> - Centralized logs from all hosts</li>
<li><strong>Health Checks:</strong> <a href="http://192.168.1.4:3001">Uptime Kuma</a> - Service availability monitoring</li>
<li><strong>Inventory:</strong> <a href="http://192.168.1.4:3100">Homebox</a> - Physical IT gear tracking</li>
<li><strong>SIEM:</strong> <a href="https://192.168.1.7">Wazuh Dashboard</a> - Security event analysis and threat detection</li>
</ul>
<hr>
<h2 id="-infrastructure-as-code">üöÄ Infrastructure as Code<a hidden class="anchor" aria-hidden="true" href="#-infrastructure-as-code">#</a></h2>
<p>All Docker compose files are managed via GitOps. See my <a href="../gitops/">GitOps Project</a> for details on the repository structure and deployment workflow.</p>
<p><strong>Repository:</strong> <a href="https://github.com/jhathcock-sys/Dockers">github.com/jhathcock-sys/Dockers</a></p>
<hr>
<h2 id="-security-hardening">üõ°Ô∏è Security Hardening<a hidden class="anchor" aria-hidden="true" href="#-security-hardening">#</a></h2>
<p>The Docker infrastructure has undergone a comprehensive security audit. Critical vulnerabilities were identified and fixed, including:</p>
<ul>
<li>Removed privileged mode from cAdvisor (replaced with specific capabilities)</li>
<li>Added read-only flags to Docker socket mounts</li>
<li>Eliminated default password fallbacks</li>
</ul>
<p>See my <a href="../security-review/">Docker Security Review</a> for the full audit report, methodology, and lessons learned.</p>
<hr>
<h2 id="-recent-projects">üöÄ Recent Projects<a hidden class="anchor" aria-hidden="true" href="#-recent-projects">#</a></h2>
<h3 id="podcast-studio-2026-02-03">Podcast Studio (2026-02-03)<a hidden class="anchor" aria-hidden="true" href="#podcast-studio-2026-02-03">#</a></h3>
<p>Self-hosted video podcast recording platform with 4K multi-track support. Built for D&amp;D sessions with up to 6 participants.</p>
<p><strong>Stack:</strong> LiveKit (WebRTC), React + TypeScript, Node.js/Express, MinIO (S3 storage), FFmpeg (post-processing), Coturn (TURN server)</p>
<p><strong>Features:</strong></p>
<ul>
<li>Hybrid LiveKit + double-ended recording for true 4K quality</li>
<li>Client-side MediaRecorder with resumable uploads (Uppy.js)</li>
<li>Live streaming to YouTube/Twitch via RTMP</li>
<li>Automated audio normalization and multi-track sync with FFmpeg</li>
<li>Scene switching with custom layouts</li>
</ul>
<p><strong>Storage:</strong> ~70GB per 1-hour 6-person 4K session</p>
<p><strong>Repository:</strong> <a href="https://github.com/jhathcock-sys/podcast-studio">podcast-studio</a></p>
<hr>
<h2 id="-nas-integration-2026-02-04">üóÑÔ∏è NAS Integration (2026-02-04)<a hidden class="anchor" aria-hidden="true" href="#-nas-integration-2026-02-04">#</a></h2>
<p>Integrated Synology DS220j (7.2TB) with homelab infrastructure for centralized storage and monitoring.</p>
<p><strong>SNMP Monitoring:</strong></p>
<ul>
<li>Prometheus scrapes NAS metrics via snmp-exporter</li>
<li>Monitors: network interfaces, traffic counters, interface status</li>
<li>Grafana dashboards available for visualization</li>
</ul>
<p><strong>SMB Storage Shares:</strong></p>
<ul>
<li>Mounted on ProxMoxBox (via Proxmox host bind mount)</li>
<li>Mounted on Pi5 with full read/write access</li>
<li>Directories: <code>/mnt/nas/homelab/docker-backups/</code> and <code>/mnt/nas/homelab/media/</code></li>
<li>Docker containers have full read/write access for backups and media</li>
<li>Persistent mounts configured in /etc/fstab on both systems</li>
</ul>
<p><strong>Syslog Forwarding (Partial):</strong></p>
<ul>
<li>Synology forwards logs to Promtail on ProxMoxBox:1514</li>
<li>Messages arriving but needs RFC 3164 ‚Üí RFC 5424 format conversion</li>
<li>Future enhancement: add syslog relay for proper parsing</li>
</ul>
<p><strong>Storage Capacity:</strong></p>
<ul>
<li>Total: 7.2TB</li>
<li>Used: 4.9TB</li>
<li>Available: 2.4TB (ready for media library and backups)</li>
</ul>
<hr>
<h2 id="-obsidian-vault-sync-2026-02-04">üìù Obsidian Vault Sync (2026-02-04)<a hidden class="anchor" aria-hidden="true" href="#-obsidian-vault-sync-2026-02-04">#</a></h2>
<p>Self-hosted real-time synchronization for homelab documentation vault using CouchDB.</p>
<p><strong>Deployment:</strong> Pi5 (192.168.1.234:5984)</p>
<p><strong>Technology Stack:</strong></p>
<ul>
<li><strong>CouchDB:</strong> NoSQL database for document storage</li>
<li><strong>Self-hosted LiveSync:</strong> Obsidian community plugin for real-time sync</li>
<li><strong>End-to-End Encryption:</strong> Optional passphrase-based encryption</li>
<li><strong>Docker:</strong> Containerized deployment with health checks</li>
</ul>
<p><strong>Features:</strong></p>
<ul>
<li>Real-time vault synchronization across all devices (desktop, mobile, laptop)</li>
<li>Sub-second sync latency on local network</li>
<li>Automatic conflict detection and resolution</li>
<li>Works alongside Git for hybrid workflow (sync + version control)</li>
<li>Remote access via Tailscale VPN</li>
</ul>
<p><strong>Architecture Decision:</strong></p>
<ul>
<li>Deployed to Pi5 instead of ProxMoxBox due to better resource availability</li>
<li>Pi5 had 6.9GB free memory vs ProxMoxBox&rsquo;s 3.7GB</li>
<li>CPU nearly idle (1.24% vs 60%+ on ProxMoxBox)</li>
<li>Fits Pi5&rsquo;s role as always-on secondary services node</li>
</ul>
<p><strong>Resource Usage:</strong></p>
<ul>
<li>CouchDB container: ~500MB-1GB RAM, &lt;2% CPU</li>
<li>Memory limit: 1GB max, 512MB reserved</li>
<li>Database size: ~100-500MB for text-heavy vault</li>
</ul>
<p><strong>Integration:</strong></p>
<ul>
<li>Complements existing Git workflow (homelab-docs repository)</li>
<li>LiveSync handles real-time editing, Git handles version control</li>
<li>Public wiki publishing pipeline unchanged (homelab-wiki)</li>
</ul>
<p><strong>Monitoring:</strong></p>
<ul>
<li>System metrics via Node Exporter (CPU, memory, disk)</li>
<li>Docker health checks every 30 seconds</li>
<li>Basic monitoring sufficient; detailed CouchDB metrics optional</li>
</ul>
<p><strong>Security:</strong></p>
<ul>
<li>Private network deployment (192.168.1.0/24)</li>
<li>Strong generated credentials</li>
<li>Optional E2E encryption in Obsidian plugin</li>
<li>Tailscale VPN for secure remote access</li>
</ul>
<hr>
<h2 id="-future-plans">üìã Future Plans<a hidden class="anchor" aria-hidden="true" href="#-future-plans">#</a></h2>
<ul>
<li><input disabled="" type="checkbox"> <strong>Podcast Studio Deployment</strong> - Deploy and test on 192.168.1.8</li>
<li><input disabled="" type="checkbox"> <strong>OPNsense + Managed Switch</strong> - Enterprise networking with VLANs and IDS/IPS</li>
<li><input disabled="" type="checkbox"> Add media stack (Jellyfin/Plex, Sonarr, Radarr) - <strong>NAS storage ready</strong></li>
<li><input disabled="" type="checkbox"> Implement Home Assistant for home automation</li>
<li><input disabled="" type="checkbox"> Migrate to Kubernetes for orchestration</li>
<li><input disabled="" type="checkbox"> Set up offsite backups to cloud storage</li>
<li><input disabled="" type="checkbox"> Fix syslog format conversion for NAS logs</li>
<li><input checked="" disabled="" type="checkbox"> <del>NAS integration</del> (Completed - SNMP monitoring + SMB shares)</li>
<li><input checked="" disabled="" type="checkbox"> <del>Container resource management</del> (Completed - memory limits on all 20 containers)</li>
<li><input checked="" disabled="" type="checkbox"> <del>Add alerting via Grafana/Prometheus</del> (Completed - Discord notifications active)</li>
<li><input checked="" disabled="" type="checkbox"> <del>Wazuh SIEM</del> (Completed - agents on ProxMoxBox and Pi5, ready for Suricata integration)</li>
<li><input checked="" disabled="" type="checkbox"> <del>Obsidian vault sync</del> (Completed - CouchDB LiveSync on Pi5, real-time sync across devices)</li>
</ul>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
<nav class="paginav">
  <a class="prev" href="https://jhathcock-sys.github.io/me/projects/gitops/">
    <span class="title">¬´ Prev</span>
    <br>
    <span>GitOps Infrastructure</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2026 <a href="https://jhathcock-sys.github.io/me/">James Hathcock</a></span> ¬∑ 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu');
    if (menu) {
        
        const scrollPosition = localStorage.getItem("menu-scroll-position");
        if (scrollPosition) {
            menu.scrollLeft = parseInt(scrollPosition, 10);
        }
        
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        const html = document.querySelector("html");
        if (html.dataset.theme === "dark") {
            html.dataset.theme = 'light';
            localStorage.setItem("pref-theme", 'light');
        } else {
            html.dataset.theme = 'dark';
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
